<% layout("layout/boilerplate") %>

<body>
  <div style="max-width: 600px; margin: auto; font-family: Arial, sans-serif;">
    <h3 style="text-align: center; font-weight: bold;">Edit your Listing</h3>
    <form
      method="POST"
      action="/listings/<%= listing._id %>?_method=PUT" novalidate class="needs-validation"
      style="display: flex; flex-direction: column; gap: 15px;"
    >
      <label for="title" style="font-weight: bold;">Title</label>
      <input
        id="title"
        name="listing[title]"
        value="<%= listing.title %>"
        type="text"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px;" required
      />
      <div class="valid-feedback">Title looks good</div>

      <label for="description" style="font-weight: bold;">Description</label>
      <textarea
        id="description"
        name="listing[description]"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px; height: 100px;" required
      ><%= listing.description %></textarea>
      <div class="invalid-feedback">Discription should be short</div>

      <label for="image" style="font-weight: bold;">Image Link</label>
      <input
        id="image"
        name="listing[image]"
        value="<%= listing.image %>"
        type="text"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px;" required
      />
      <div class="invalid-feedback">image should be valid</div>

      <label for="price" style="font-weight: bold;">Price</label>
      <input
        id="price"
        name="listing[price]"
        value="<%= listing.price %>"
        type="number"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px;" required
      />
      <div class="invalid-feedback">give valid price</div>

      <label for="country" style="font-weight: bold;">Country</label>
      <input
        id="country"
        name="listing[country]"
        value="<%= listing.country %>"
        type="text"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px;" required
      />
      <div class="invalid-feedback">Country name should be valid</div>

      <label for="location" style="font-weight: bold;">Location</label>
      <input
        id="location"
        name="listing[location]"
        value="<%= listing.location %>"
        type="text"
        style="padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 5px;" required
      />
      <div class="invalid-feedback">Location name should be valid</div>

      <button
        type="submit"
        style="padding: 10px; font-size: 16px; font-weight: bold; background-color: #fe424d; color: white; border: none; border-radius: 5px; cursor: pointer;"
      >
        Edit
      </button>
    </form>
  </div>
</body>
</html>
